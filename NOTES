(use '(org.gnu.clojure.gnunet bloomfilter core crypto exception filesharing hello hostlist inet iostream message parser peer tcp transport udp util))
(def random (java.security.SecureRandom.))
(def keypair (generate-rsa-keypair! random))
(def my-peer (new-peer {:keypair keypair :random random}))
(.start (:selector-thread my-peer))
(activate-udp! my-peer 5678)
(configure-udp-addresses! my-peer (get-local-addresses) 5678)
(activate-filesharing! my-peer)
(download-hostlist! (partial admit-hello! my-peer) "http://192.168.8.2:58080")
